<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <link rel="stylesheet" type="text/css" href="style.css">
    <title>Huset KBH</title>
</head>

<header>

    <img>

</header>


<body>
    <?php include "header.html"; ?>

    <main>
        <section class="container" data-container>

        </section>


        <template data-template>
            <article class="postListview">
                <h2 data-title></h2>
                <div data-text> </div>
                <img data-billede>
            </article>
        </template>


    </main>

<<<<<<< HEAD
=======
    <form>
        <input id="navn" type="text" placeholder="Dit navn" required>
        <input type="submit" value="tilmeld"><span id="response"></span>

    </form>

>>>>>>> origin/master

    <script>
        document.addEventListener("DOMContentLoaded", getJSON);
        let posts;
        let postTemplate = document.querySelector("[data-template]");
        let postContainer = document.querySelector("[data-container]");
        async function getJSON() {
            let jsonData = await fetch("http://sarahjane.dk/kea/2.semester/huset/wordpress/wp-json/wp/v2/multiple-post-type?&type[]=musikevents&type[]=filmevents&type[]=ord&type[]=scenekunstner&type[]=andet");
            posts = await jsonData.json();
            visPosts();
        }

        function visPosts() {
            console.log(posts);
            posts.forEach(post => {
                let klon = postTemplate.cloneNode(true).content;
                klon.querySelector("[data-title]").textContent = post.title.rendered;
                klon.querySelector("[data-text]").innerHTML = post.content.rendered;
                klon.querySelector("[data-billede]").src = post.featured_media.rendered;
                postContainer.appendChild(klon);
            })
        }
    </script>

    <?php include "footer.html"; ?>
</body>

</html>
